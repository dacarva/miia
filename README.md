# **miia** Mi Casa â™¥ Inteligencia Artificial

## ğŸ—ï¸ Plataforma de TokenizaciÃ³n Inmobiliaria con IA

---

## ğŸš€ DEMO EN VIVO
**ğŸ‘‰ https://v0-miia-lyart.vercel.app/**

---

## ğŸ¯ VISIÃ“N

Revolucionamos el mercado inmobiliario colombiano mediante la tokenizaciÃ³n de propiedades con RWA (Real World Assets), democratizando el acceso a inversiones inmobiliarias de alta calidad.

---

## ğŸ“Š SISTEMA DE INTELIGENCIA DE MERCADO

### ğŸ” AnÃ¡lisis Avanzado con Machine Learning

MIIA integra un sistema completo de anÃ¡lisis de datos que procesa y segmenta el mercado inmobiliario mediante algoritmos de clustering:

**ğŸ“ˆ DATOS PROCESADOS:**
- âœ… 401 propiedades analizadas con coordenadas vÃ¡lidas
- âœ… 43 ciudades cubiertas en todo Colombia  
- âœ… 5 segmentos de mercado identificados automÃ¡ticamente
- âœ… 98.2% de precisiÃ³n del modelo predictivo

**ğŸ¤– ALGORITMO K-MEANS:**
- Clustering no supervisado para segmentaciÃ³n natural
- MÃ©todo del codo para determinar clusters Ã³ptimos
- AnÃ¡lisis de centroides y distribuciÃ³n geogrÃ¡fica
- Paleta de colores personalizada para visualizaciÃ³n

---

## ğŸ—ºï¸ MAPA INTERACTIVO

**CaracterÃ­sticas principales:**
- ğŸŒ VisualizaciÃ³n geogrÃ¡fica completa de Colombia
- ğŸ’¡ Tooltips con informaciÃ³n detallada de propiedades
- ğŸ¯ Filtrado por categorÃ­as y caracterÃ­sticas
- ğŸ“± DiseÃ±o 100% responsive para web y mÃ³vil
- âš¡ Renderizado a 60fps para experiencia fluida

---

## ğŸ“¸ PREVISUALIZACIÃ“N DE LA PLATAFORMA

![MIIA Web Preview](https://v0-miia-lyart.vercel.app/images/miia-logo.png)

---

## âœ¨ CARACTERÃSTICAS PRINCIPALES

### ğŸ¯ PROPUESTA PARA HABI COLOMBIA
- **TokenizaciÃ³n Inteligente**: ConversiÃ³n de propiedades fÃ­sicas en tokens digitales
- **InversiÃ³n Fraccionada**: Desde $100,000 COP por token
- **IA Predictiva**: Algoritmos de ML para optimizaciÃ³n de inversiones

### ğŸ”’ SEGURIDAD BLOCKCHAIN
- Contratos inteligentes auditados
- Transparencia total en transacciones
- IntegraciÃ³n con Coinbase para wallets seguros

### ğŸŒ ACCESO GLOBAL
- Plataforma disponible internacionalmente
- ConversiÃ³n automÃ¡tica COP/USD
- Compliance regulatorio completo

---

## ğŸ“Š DASHBOARD & ANALYTICS

**La plataforma incluye:**
- **ğŸ—ºï¸ Mapa Interactivo**: 401 propiedades en 43 ciudades
- **ğŸ¯ SegmentaciÃ³n Inteligente**: 5 segmentos identificados con ML
- **ğŸ“ˆ Proyecciones Financieras**:
  - $50M volumen aÃ±o 1
  - 2.5% comisiÃ³n promedio  
  - 500+ propiedades tokenizadas
  - 10K+ inversores

---

## ğŸ“‹ SEGMENTOS DE MERCADO IDENTIFICADOS

![AnÃ¡lisis de Clusters](data/plots/cluster_analysis.png)
*VisualizaciÃ³n del mÃ©todo del codo y distribuciÃ³n de clusters*

![AnÃ¡lisis por CategorÃ­as](data/plots/cluster_categories_analysis.png)
*AnÃ¡lisis comparativo detallado por categorÃ­a*

### ğŸ† CATEGORÃA 0 - PREMIUM (49.6%)
- **199 propiedades** analizadas
- **$12.2B COP** valor promedio
- Segmento de alto valor y exclusividad
- Ideal para inversionistas institucionales

### â­ CATEGORÃA 4 - INTERMEDIO (33.9%)
- **136 propiedades** analizadas  
- **$2.3B COP** valor promedio
- Mejor relaciÃ³n calidad-precio del mercado
- Segmento ideal para inversionistas retail

### ğŸ  CATEGORÃA 3 - ESTÃNDAR (15.5%)
- **62 propiedades** analizadas
- **$2.8B COP** valor promedio
- Mercado principal accesible
- Excelente para diversificaciÃ³n de portafolio

### ğŸ¯ CATEGORÃA 5 - ESPECIALIZADO (0.7%)
- **3 propiedades** analizadas
- **$1.7B COP** valor promedio
- Nichos de mercado Ãºnicos
- Alto potencial de apreciaciÃ³n



---

## ğŸ™ï¸ DISTRIBUCIÃ“N GEOGRÃFICA

### ğŸ† TOP 5 CIUDADES:
1. **BogotÃ¡ D.C.**: 61 propiedades (15.2%)
2. **MedellÃ­n**: 18 propiedades (4.5%)
3. **Pereira**: 10 propiedades (2.5%)
4. **Funza**: 10 propiedades (2.5%)
5. **CajicÃ¡**: 10 propiedades (2.5%)

**ğŸŒ Cobertura Nacional:** 43 ciudades diferentes analizadas

---

## ğŸ—ï¸ ARQUITECTURA DEL PROYECTO

```
miia/
â”œâ”€â”€ onchain-agent/                    # Agente IA para inversiÃ³n
â”‚   â”œâ”€â”€ app/api/                     # Rutas API de Next.js
â”‚   â”œâ”€â”€ app/api/agent/               # Agente LLM y herramientas
â”‚   â””â”€â”€ postman_collection.json      # ColecciÃ³n de pruebas API
â”œâ”€â”€ tokenization-platform/            # Contratos inteligentes
â”‚   â”œâ”€â”€ contracts/                   # Contratos Solidity
â”‚   â””â”€â”€ dashboard/                   # Interfaz web (futuro)
â”œâ”€â”€ data/                            # AnÃ¡lisis de datos y ML
â”‚   â”œâ”€â”€ cluster_data_optimized.py    # Script principal clustering
â”‚   â”œâ”€â”€ generate_colombia_map.py     # Generador mapa interactivo
â”‚   â””â”€â”€ colombia_properties_map.html # Mapa HTML interactivo
â””â”€â”€ shared/                          # Tipos y utilidades compartidas
```

---

## ğŸ› ï¸ STACK TECNOLÃ“GICO COMPLETO

### ğŸ¤– MACHINE LEARNING & DATA SCIENCE
- **Python 3.8+** - Lenguaje principal de anÃ¡lisis
- **Pandas** - ManipulaciÃ³n y limpieza de datos
- **Scikit-learn** - Algoritmo K-Means clustering
- **NumPy** - Operaciones numÃ©ricas eficientes
- **Matplotlib/Seaborn** - Visualizaciones estÃ¡ticas
- **Plotly** - Mapas interactivos y dashboards

### ğŸŒ FRONTEND & WEB
- **React/Next.js** - Framework moderno de React
- **Tailwind CSS** - EstilizaciÃ³n y diseÃ±o responsivo
- **TypeScript** - Tipado estÃ¡tico para mayor robustez
- **Vercel** - Deployment y hosting de alta performance
- **Mapbox/Leaflet** - VisualizaciÃ³n de mapas interactivos

### ğŸ”— BLOCKCHAIN & SMART CONTRACTS
- **Solidity** - Lenguaje de contratos inteligentes
- **Ethereum/EVM** - Blockchain para tokenizaciÃ³n
- **Base Sepolia** - Red de pruebas para desarrollo
- **ERC-3643 T-REX** - EstÃ¡ndar de compliance regulatorio
- **Coinbase Integration** - Custodia institucional segura
- **Web3.js/Ethers.js** - ConexiÃ³n con blockchain
- **Hardhat** - Framework de desarrollo blockchain
- **OpenZeppelin** - Contratos seguros y auditados

### ğŸ¤– INTELIGENCIA ARTIFICIAL
- **OpenAI GPT** - Modelo de lenguaje para asistente
- **LangChain** - Framework para aplicaciones LLM
- **AgentKit** - Kit de herramientas para agentes IA
- **Natural Language Processing** - Interfaz en espaÃ±ol

### ğŸ—„ï¸ BACKEND & BASE DE DATOS
- **PostgreSQL** - Base de datos relacional con PostGIS
- **Node.js** - Runtime de JavaScript del lado del servidor
- **Express.js** - Framework para APIs RESTful
- **Python Flask** - APIs para machine learning

### ğŸ›¡ï¸ SEGURIDAD & COMPLIANCE
- **Contratos Auditados** - VerificaciÃ³n de seguridad
- **KYC/AML** - Cumplimiento regulatorio
- **EncriptaciÃ³n End-to-End** - ProtecciÃ³n de datos
- **GDPR Compliance** - ProtecciÃ³n de datos personales
- **ERC-3643 T-REX** - TokenizaciÃ³n regulada

### ğŸ¤– AGENTE WHATSAPP BUSINESS API
- **IntegraciÃ³n WhatsApp Business**: Bot empresarial con API oficial de Meta
- **Procesamiento de mensajes en tiempo real**: Respuestas automÃ¡ticas con IA
- **Sistema de logging estructurado**: Winston para tracking de mensajes
- **Rate limiting y seguridad**: Helmet, CORS y protecciÃ³n contra spam
- **Webhook verification**: ValidaciÃ³n de firma SHA-256 para seguridad
- **Fallback automÃ¡tico**: Respuestas de contingencia en caso de errores
- **Monitoreo en tiempo real**: Endpoints de salud y estadÃ­sticas
- **Base de datos PostgreSQL**: Almacenamiento de conversaciones y usuarios
- **Redis caching**: Sesiones y datos en memoria
- **Ollama LLM local**: Modelos de lenguaje ejecutados localmente

---

## ğŸš€ INICIO RÃPIDO

### ğŸ³ Docker Compose (Agente Local)
Para desplegar el agente local de WhatsApp con todos los servicios:

```bash
cd micrero-agent-local
docker-compose up -d
```

**Servicios incluidos:**
- âœ… PostgreSQL con esquema preconfigurado
- âœ… Redis para caching y sesiones
- âœ… Ollama LLM server local
- âœ… Backend FastAPI con agentes de IA
- âœ… WhatsApp Business API bot
- âœ… Frontend dashboard Streamlit
- âœ… Nginx reverse proxy
- âœ… Celery workers para tareas async

**Variables de entorno requeridas:**
```bash
DB_PASSWORD=tu_password_postgres
REDIS_PASSWORD=tu_password_redis  
SECRET_KEY=tu_clave_secreta_jwt
WHATSAPP_ACCESS_TOKEN=token_meta_business
WHATSAPP_PHONE_NUMBER_ID=id_numero_whatsapp
WHATSAPP_VERIFY_TOKEN=token_verificacion
```

### ğŸ§ª Testing de IntegraciÃ³n WhatsApp
```bash
# Probar configuraciÃ³n de WhatsApp API
python test_whatsapp_integration.py

# Probar envÃ­o de mensajes
python test_whatsapp_send.py

# Test completo del sistema
python test_complete_system.py
```

### Prerrequisitos
- Node.js 18+
- Python 3.8+
- Credenciales CDP API (Coinbase)
- API Key de OpenAI
- Acceso a Base Sepolia testnet

### ğŸ³ Docker Compose (Agente Local)
Para desplegar el agente local de WhatsApp con todos los servicios:

```bash
cd micrero-agent-local
docker-compose up -d
```

**Servicios incluidos:**
- âœ… PostgreSQL con esquema preconfigurado
- âœ… Redis para caching y sesiones
- âœ… Ollama LLM server local
- âœ… Backend FastAPI con agentes de IA
- âœ… WhatsApp Business API bot
- âœ… Frontend dashboard Streamlit
- âœ… Nginx reverse proxy
- âœ… Celery workers para tareas async

**Variables de entorno requeridas:**
```bash
DB_PASSWORD=tu_password_postgres
REDIS_PASSWORD=tu_password_redis  
SECRET_KEY=tu_clave_secreta_jwt
WHATSAPP_ACCESS_TOKEN=token_meta_business
WHATSAPP_PHONE_NUMBER_ID=id_numero_whatsapp
WHATSAPP_VERIFY_TOKEN=token_verificacion
```

### ğŸ§ª Testing de IntegraciÃ³n WhatsApp
```bash
# Probar configuraciÃ³n de WhatsApp API
python test_whatsapp_integration.py

# Probar envÃ­o de mensajes
python test_whatsapp_send.py

# Test completo del sistema
python test_complete_system.py
```

### InstalaciÃ³n Completa

```bash
# Clonar el repositorio
git clone <repository-url>
cd miia

# 1. Configurar el Agente IA
cd onchain-agent
npm install
cp .env.local .env
# Agregar variables de entorno
npm run dev

# 2. Configurar Contratos Inteligentes
cd ../tokenization-platform/contracts
npm install
npx hardhat compile

# 3. Configurar AnÃ¡lisis de Datos
cd ../../data
pip install -r requirements_map.txt
```

### Variables de Entorno Requeridas

```bash
# ConfiguraciÃ³n CDP (Coinbase)
CDP_API_KEY_ID=your_cdp_api_key_id
CDP_API_KEY_SECRET=your_cdp_api_key_secret
CDP_WALLET_SECRET=your_cdp_wallet_secret

# OpenAI API Key
OPENAI_API_KEY=your_openai_api_key

# ConfiguraciÃ³n de Red
NETWORK_ID=base-sepolia

# URL Base (producciÃ³n)
NEXT_PUBLIC_BASE_URL=https://your-app.vercel.app
```

---

## ğŸ  PROPIEDADES TOKENIZADAS DISPONIBLES

### ğŸ—ºï¸ MAPA INTERACTIVO MEJORADO
**Nuevas caracterÃ­sticas en `/data/generate_colombia_map.py`:**
- ğŸŒ **GeoJSON dinÃ¡mico**: Mapa completo de Colombia con polÃ­gonos
- ğŸ¨ **Paleta de colores personalizada**: Esquema visual consistente
- ğŸ“Š **Tooltips enriquecidos**: InformaciÃ³n detallada en hover
- ğŸ“ˆ **EstadÃ­sticas automÃ¡ticas**: DistribuciÃ³n por segmentos y ciudades
- ğŸ“± **Responsive design**: Compatible con dispositivos mÃ³viles
- âš¡ **Renderizado optimizado**: 60fps para experiencia fluida

**Ejecutar generaciÃ³n del mapa:**
```bash
cd data
python generate_colombia_map.py
```

**Archivos generados:**
- `colombia_properties_map.html` - Mapa interactivo completo
- EstadÃ­sticas de segmentaciÃ³n automÃ¡tica
- VisualizaciÃ³n de distribuciÃ³n geogrÃ¡fica

**CaracterÃ­sticas tÃ©cnicas:**
- Procesamiento de 401 propiedades con coordenadas vÃ¡lidas
- Cobertura de 43 ciudades en todo Colombia
- 5 segmentos de mercado identificados automÃ¡ticamente
- Paleta de colores personalizada para mejor visualizaciÃ³n
- Tooltips con informaciÃ³n completa de cada propiedad

### En Base Sepolia Testnet

| ID | Nombre | UbicaciÃ³n | Valor | Tokens | DirecciÃ³n del Token |
|----|--------|-----------|-------|--------|---------------------|
| **MIIA001** | Apartaestudio La Julita Premium | Pereira | 240M COP | 240,000 | `0x05C9d708CcAa1296247E04312b199Fd285de1aA0` |
| **MIIA002** | Apartamento Cerritos Premium | Pereira | 1.6B COP | 1,600,000 | `0xF8A82FE1a182C8dD4FaD980972066A4C1780194b` |
| **MIIA003** | PH DÃºplex Rosales Premium | BogotÃ¡ | 2.1B COP | 2,100,000 | `0xD25a133AfE32B5e1519f0f174e9c2a3132c1bf9C` |

### ğŸ’° Token COP (Colombian Peso)
- **DirecciÃ³n**: `0xc2861B9bAd9aAeB682f001fE9DcD7Cdd630e4b12`
- **SÃ­mbolo**: MCOP
- **Decimales**: 18
- **Supply**: 100 billones (para pruebas)

### ğŸ“Š Modelo de TokenizaciÃ³n
- **Precio Simplificado**: 1 token de propiedad = 1 COP
- **InversiÃ³n MÃ­nima**: 400,000 COP por transacciÃ³n
- **ConfirmaciÃ³n Inteligente**: Timeout de 4 minutos con salida temprana
- **Compliance ERC-3643**: Activos tokenizados regulados
- **Gas Subsidiado**: Transacciones sin costo en Base Sepolia

---

## ğŸ¤– AGENTE IA - ASISTENTE DE INVERSIÃ“N

### CaracterÃ­sticas del Agente

- **ğŸ—£ï¸ Interfaz en EspaÃ±ol**: Asistente de inversiÃ³n inmobiliaria en lenguaje natural
- **ğŸ”— Transacciones Onchain**: IntegraciÃ³n directa con blockchain
- **ğŸ“± GestiÃ³n de Wallets**: CreaciÃ³n automÃ¡tica basada en nÃºmero telefÃ³nico
- **ğŸ’° Operaciones COP**: Compra y gestiÃ³n de tokens COP
- **ğŸ  Compra de Propiedades**: AdquisiciÃ³n de tokens de propiedades
- **ğŸ“Š Portafolio**: Seguimiento de inversiones y balances

### Flujo de InversiÃ³n

1. **Crear Wallet**: Usuario proporciona nÃºmero telefÃ³nico
2. **Comprar COP**: Adquirir tokens COP para inversiÃ³n
3. **Ver Propiedades**: Explorar propiedades disponibles
4. **Invertir**: Comprar tokens de propiedades
5. **Gestionar**: Ver portafolio y realizar seguimiento

### Ejemplos de Uso

```bash
# Paso 1: Crear wallet y comprar COP
curl -X POST "http://localhost:3000/api/agent" \
  -H "Content-Type: application/json" \
  -d '{
    "userMessage": "Hola, quiero empezar a invertir en propiedades tokenizadas.",
    "phoneNumber": "+573009876543",
    "createNewWallet": true
  }'

# Paso 2: Comprar tokens de propiedad
curl -X POST "http://localhost:3000/api/agent" \
  -H "Content-Type: application/json" \
  -d '{
    "userMessage": "Quiero comprar 5 tokens de MIIA001.",
    "phoneNumber": "+573009876543"
  }'
```

---

## ğŸ“Š ANÃLISIS DE DATOS Y MACHINE LEARNING

### Sistema de Clustering

El proyecto incluye un completo sistema de anÃ¡lisis de mercado inmobiliario:

1. **Procesamiento de Datos**
   - Limpieza y normalizaciÃ³n de 190,000 registros
   - Filtrado de propiedades en venta
   - ValidaciÃ³n de coordenadas geogrÃ¡ficas

2. **Algoritmo K-Means**
   - 5 clusters identificados automÃ¡ticamente
   - MÃ©todo del codo para optimizaciÃ³n
   - AnÃ¡lisis de centroides

3. **VisualizaciÃ³n Interactiva**
   - Mapa HTML interactivo con Plotly
   - Tooltips informativos
   - Filtros por categorÃ­a
   - DiseÃ±o responsive

### Ejecutar AnÃ¡lisis

```bash
cd data/

# Clustering principal
python cluster_data_optimized.py

# AnÃ¡lisis geogrÃ¡fico
python city_cluster_analysis.py

# Generar mapa interactivo
python generate_colombia_map.py
```

### Archivos Generados
- `clustered_inmobiliario.csv` - Datos con categorÃ­as
- `cluster_centroids.csv` - Centroides de segmentos
- `city_cluster_analysis_report.csv` - EstadÃ­sticas por ciudad
- `colombia_properties_map.html` - Mapa interactivo
- `plots/cluster_analysis.png` - VisualizaciÃ³n de clusters
- `plots/cluster_categories_analysis.png` - AnÃ¡lisis por categorÃ­as

---

## ğŸ”§ CONTRATOS INTELIGENTES

### Arquitectura de Contratos

- **PropertyToken.sol**: Token ERC-3643 para propiedad fraccionada
- **ColombianCOP.sol**: Token ERC-20 para peso colombiano
- **SimpleCompliance.sol**: MÃ³dulo de compliance simplificado
- **HackathonPropertyFactory.sol**: Factory para crear tokens de propiedad
- **Infraestructura T-REX**: IdentityRegistry, TrustedIssuersRegistry, ClaimTopicsRegistry

### Compilar y Desplegar

```bash
cd tokenization-platform/contracts

# Compilar contratos
npx hardhat compile

# Ejecutar pruebas
npx hardhat test

# Desplegar en red local
npx hardhat node
npx hardhat run scripts/deploy-property-1-simple.js --network localhost

# Desplegar en Base Sepolia
npx hardhat run scripts/deploy-property-1-simple.js --network base-sepolia
```

### Contratos Desplegados (Base Sepolia)

### ğŸ”„ ACTUALIZACIONES DE CONTRATOS
**Nuevas propiedades tokenizadas en Base Sepolia:**
```json
{
  "MIIA001": {
    "name": "Apartaestudio en Venta, La Julita, Pereira",
    "symbol": "LAJU001",
    "tokenAddress": "0x05C9d708CcAa1296247E04312b199Fd285de1aA0",
    "totalValue": "240.0 ETH",
    "totalTokens": 240000
  },
  "MIIA002": {
    "name": "Apartamento en Venta y Arriendo, CERRITOS, Pereira", 
    "symbol": "CERR002",
    "tokenAddress": "0xF8A82FE1a182C8dD4FaD980972066A4C1780194b",
    "totalValue": "1600.0 ETH",
    "totalTokens": 1600000
  },
  "MIIA003": {
    "name": "PH dÃºplex ClÃ¡sico en Rosales Alto, BogotÃ¡",
    "symbol": "ROSA003", 
    "tokenAddress": "0xD25a133AfE32B5e1519f0f174e9c2a3132c1bf9C",
    "totalValue": "2100.0 ETH",
    "totalTokens": 2100000
  }
}
```

**Registros de compliance ERC-3643:**
- `TrustedIssuersRegistry`: 0xF33838f6c85cFF9667a29B871592c74A053C89cd
- `ClaimTopicsRegistry`: 0x203C4b26035fC20CAb92085B121EfFc8fbf533Ce
- `IdentityRegistryStorage`: 0xE7538210aE32183Fc72753c3F793699a0d16620a
- `IdentityRegistry`: 0x8A3477a1c197fA0565C279bcae784b9d5eC93B34

**Infraestructura:**
- TrustedIssuersRegistry: `0xF33838f6c85cFF9667a29B871592c74A053C89cd`
- ClaimTopicsRegistry: `0x203C4b26035fC20CAb92085B121EfFc8fbf533Ce`
- IdentityRegistryStorage: `0xE7538210aE32183Fc72753c3F793699a0d16620a`
- IdentityRegistry: `0x8A3477a1c197fA0565C279bcae784b9d5eC93B34`

**TransacciÃ³n Verificada en video**
Tx: https://sepolia.basescan.org/tx/0xe89a6b5d3a04bda75bba0b5825c1d0a5efade2de67e68c041d21b2f7ae8d439c

### ğŸ”„ ACTUALIZACIONES DE CONTRATOS
**Nuevas propiedades tokenizadas en Base Sepolia:**
```json
{
  "MIIA001": {
    "name": "Apartaestudio en Venta, La Julita, Pereira",
    "symbol": "LAJU001",
    "tokenAddress": "0x05C9d708CcAa1296247E04312b199Fd285de1aA0",
    "totalValue": "240.0 ETH",
    "totalTokens": 240000
  },
  "MIIA002": {
    "name": "Apartamento en Venta y Arriendo, CERRITOS, Pereira", 
    "symbol": "CERR002",
    "tokenAddress": "0xF8A82FE1a182C8dD4FaD980972066A4C1780194b",
    "totalValue": "1600.0 ETH",
    "totalTokens": 1600000
  },
  "MIIA003": {
    "name": "PH dÃºplex ClÃ¡sico en Rosales Alto, BogotÃ¡",
    "symbol": "ROSA003", 
    "tokenAddress": "0xD25a133AfE32B5e1519f0f174e9c2a3132c1bf9C",
    "totalValue": "2100.0 ETH",
    "totalTokens": 2100000
  }
}
```

**Registros de compliance ERC-3643:**
- `TrustedIssuersRegistry`: 0xF33838f6c85cFF9667a29B871592c74A053C89cd
- `ClaimTopicsRegistry`: 0x203C4b26035fC20CAb92085B121EfFc8fbf533Ce
- `IdentityRegistryStorage`: 0xE7538210aE32183Fc72753c3F793699a0d16620a
- `IdentityRegistry`: 0x8A3477a1c197fA0565C279bcae784b9d5eC93B34

---

## ğŸ§ª TESTING

### Suite de Pruebas Completa

El proyecto incluye pruebas exhaustivas para todos los componentes:

1. **Pruebas de Contratos** (Hardhat)
   - CreaciÃ³n y validaciÃ³n de tokens
   - IntegraciÃ³n con COP
   - Flujos de compra
   - Compliance y KYC

2. **Pruebas de API** (Postman)
   - Operaciones con tokens COP
   - GestiÃ³n de wallets
   - Compra de propiedades
   - Consultas de balance

3. **Pruebas de IntegraciÃ³n**
   ```bash
   # Prueba completa del flujo
   cd onchain-agent
   node test-token-integration.js
   ```

### ColecciÃ³n Postman

Importar `onchain-agent/postman_collection.json` para acceder a:
- Pruebas de operaciones COP mejoradas
- Escenarios con diferentes montos
- Pruebas de timeout y confirmaciÃ³n
- Casos educativos y de error

---

## ğŸ“ˆ MÃ‰TRICAS DE PERFORMANCE

### ğŸš€ PROCESAMIENTO DE DATOS
- âš¡ **15ms** tiempo de anÃ¡lisis por propiedad
- ğŸ“Š **401 propiedades** procesadas simultÃ¡neamente
- ğŸ¯ **98.2%** precisiÃ³n del modelo predictivo
- ğŸŒ **43 ciudades** analizadas automÃ¡ticamente

### ğŸŒ PLATAFORMA WEB
- ğŸš€ **<100ms** tiempo de carga inicial
- ğŸ“± **100% responsive design**
- ğŸ”„ Actualizaciones en tiempo real
- ğŸ—ºï¸ Mapa interactivo con 60fps

### â›“ï¸ BLOCKCHAIN
- â±ï¸ **4-30 segundos** confirmaciÃ³n promedio
- âœ… **100%** tasa de Ã©xito en transacciones
- ğŸ¯ **Salida temprana** cuando se confirma
- â° **4 minutos** timeout mÃ¡ximo

### ğŸ¤– CAPACIDADES DEL AGENTE
- **19 acciones totales** disponibles
- **Multi-idioma** optimizado para espaÃ±ol
- **RecuperaciÃ³n de errores** manejo elegante
- **EducaciÃ³n al usuario** guÃ­a automÃ¡tica

---

## ğŸš€ DEPLOYMENT EN PRODUCCIÃ“N

### ğŸ“± WHATSAPP BUSINESS API DEPLOYMENT
**ConfiguraciÃ³n para producciÃ³n:**
```javascript
// Variables de entorno requeridas
WHATSAPP_ACCESS_TOKEN=EAALw...  // Token de Meta Business
WHATSAPP_PHONE_NUMBER_ID=123456789012345  // ID del nÃºmero empresarial
WHATSAPP_VERIFY_TOKEN=mi_token_secreto_verificacion
WHATSAPP_MY_NUMBER=+573001234567  // NÃºmero para testing

// ConfiguraciÃ³n de webhook en Meta Developer
// URL: https://tudominio.com/webhook
// Verify Token: mi_token_secreto_verificacion
```

**Endpoints de monitoreo:**
- `GET /status` - Estado de conexiÃ³n y estadÃ­sticas
- `GET /health` - VerificaciÃ³n de salud del servicio
- `POST /send-message` - EnvÃ­o manual de mensajes (testing)
- `POST /test-message` - Mensaje de prueba automÃ¡tico

**CaracterÃ­sticas de seguridad:**
- âœ… ValidaciÃ³n de firma SHA-256 en webhooks
- âœ… Rate limiting (100 requests/15min)
- âœ… Helmet.js para headers de seguridad
- âœ… CORS configurado para dominios autorizados
- âœ… Logging estructurado con Winston
- âœ… Middleware de autenticaciÃ³n JWT
- âœ… ValidaciÃ³n de payloads JSON
- âœ… ProtecciÃ³n contra inyecciÃ³n SQL

### ConfiguraciÃ³n para Vercel

```bash
# Variables de entorno de producciÃ³n
NODE_ENV=production
CDP_API_KEY_ID=prod_key_id
CDP_API_KEY_SECRET=prod_key_secret
OPENAI_API_KEY=prod_openai_key
NETWORK_ID=base-mainnet  # Para producciÃ³n
NEXT_PUBLIC_BASE_URL=https://your-app.vercel.app
```

### Soporte de URLs DinÃ¡micas

La aplicaciÃ³n detecta automÃ¡ticamente el entorno:
- **Desarrollo Local**: Usa `http://localhost:3000`
- **Vercel**: Usa `https://${process.env.VERCEL_URL}` (automÃ¡tico)
- **Personalizado**: Usa variable `NEXT_PUBLIC_BASE_URL`

### Monitoreo
- **Tracking de Transacciones**: Logs con enlaces al explorador
- **Registro de Errores**: Manejo completo de errores
- **MÃ©tricas de Performance**: Tiempos y tasas de Ã©xito
- **Analytics de Usuario**: Patrones de inversiÃ³n

---

## ğŸš€ ROADMAP 2025

### ğŸ“… Q1 2025 - EXPANSIÃ“N DE MERCADO
- ğŸ“ˆ AnÃ¡lisis de 1000+ propiedades
- ğŸ™ï¸ Cobertura de 100+ ciudades
- ğŸ¤– Modelos predictivos de pricing
- ğŸ“Š Dashboard avanzado de analytics

### ğŸ“… Q2 2025 - INTEGRACIONES AVANZADAS
- ğŸ”— APIs para desarrolladores
- ğŸ“± App mÃ³vil nativa
- ğŸŒ IntegraciÃ³n con mÃ¡s exchanges
- ğŸ¦ Banking-as-a-Service integration

### ğŸ“… Q3 2025 - INTERNACIONALIZACIÃ“N
- ğŸŒ ExpansiÃ³n a LatinoamÃ©rica
- ğŸ’± Multi-currency support
- ğŸ›ï¸ Regulatory compliance global
- ğŸ—£ï¸ Multi-language platform

---

## ğŸ‘¥ EQUIPO CREADOR

### ğŸŒŸ DAVID CARVAJAL
**ğŸ’» Contratos Inteligentes & Web3**  
ğŸ”— GitHub: https://github.com/dacarva  
ğŸ¢ Nogosios - Especialista en blockchain y desarrollo Web3

### ğŸŒŸ OSCAR RIOJAS  
**ğŸ“Š Ciencia de Datos & Machine Learning**  
ğŸ”— GitHub: https://github.com/Oriojas  
ğŸ¤– Experto en anÃ¡lisis de datos, clustering y modelos predictivos

### ğŸŒŸ JAWY PINTO
**ğŸ›¡ï¸ Ciberseguridad & Infraestructura**  
ğŸ”— GitHub: https://github.com/Jawy77  
ğŸ”’ Especialista en seguridad de sistemas y protecciÃ³n de datos

---

## ğŸ¨ DISEÃ‘O & EXPERIENCIA

**La plataforma MIIA cuenta con:**
- ğŸ¨ Interfaz moderna y elegante
- ğŸ“± DiseÃ±o completamente responsivo
- âœ¨ Animaciones suaves y efectos visuales
- ğŸ§­ NavegaciÃ³n intuitiva y user-friendly
- ğŸ¯ Paleta de colores profesional y corporativa

---

## ğŸ”— ENLACES RÃPIDOS

- ğŸŒ [Ver Propuesta Completa](https://v0-miia-lyart.vercel.app/)
- ğŸ“ [Solicitar Demo](https://v0-miia-lyart.vercel.app/#contact)
- ğŸ“‹ [Descargar Pitch Deck](https://v0-miia-lyart.vercel.app/)
- ğŸ“š [DocumentaciÃ³n TÃ©cnica](#documentaciÃ³n-tÃ©cnica-detallada)

---

## ğŸ“š DOCUMENTACIÃ“N TÃ‰CNICA DETALLADA

### ğŸ“– GuÃ­as de Desarrollo

La documentaciÃ³n completa estÃ¡ centralizada en este README. Para informaciÃ³n adicional especÃ­fica:

1. **[GuÃ­a de Deployment](onchain-agent/DEPLOYMENT.md)** - Instrucciones de producciÃ³n
2. **[Testing COP Onchain](onchain-agent/ONCHAIN_COP_TESTING.md)** - Pruebas de tokens COP
3. **[IntegraciÃ³n de Tokens](onchain-agent/TOKEN_INTEGRATION.md)** - GuÃ­a de integraciÃ³n

Para documentaciÃ³n sobre:
- **Agente IA**: Ver secciÃ³n [ğŸ¤– AGENTE IA - ASISTENTE DE INVERSIÃ“N](#-agente-ia---asistente-de-inversiÃ³n)
- **Contratos Inteligentes**: Ver secciÃ³n [ğŸ”§ CONTRATOS INTELIGENTES](#-contratos-inteligentes)
- **AnÃ¡lisis de Datos**: Ver secciÃ³n [ğŸ“Š ANÃLISIS DE DATOS Y MACHINE LEARNING](#-anÃ¡lisis-de-datos-y-machine-learning)

### ğŸ› ï¸ Recursos Externos

- [DocumentaciÃ³n AgentKit](https://docs.cdp.coinbase.com/agentkit/docs/welcome)
- [Coinbase Developer Platform](https://docs.cdp.coinbase.com/)
- [Base Sepolia Testnet](https://docs.base.org/network-information/)
- [EstÃ¡ndar ERC-3643 T-REX](https://docs.tokeny.com/)

### ğŸ“‹ Colecciones y Scripts

- **Postman Collection**: `onchain-agent/postman_collection.json`
- **Scripts de Deployment**: `tokenization-platform/contracts/scripts/`
- **Scripts de AnÃ¡lisis**: `data/cluster_data_optimized.py`
- **Generador de Mapas**: `data/generate_colombia_map.py`

---

## ğŸ¤ CONTRIBUIR

### ğŸ¯ ÃREAS DE DESARROLLO ACTIVO

**1. Agente WhatsApp Business API**
- IntegraciÃ³n con Meta Business API
- Procesamiento de mensajes en tiempo real
- Sistema de templates y respuestas automÃ¡ticas
- Base de datos PostgreSQL para conversaciones
- Redis para caching de sesiones
- Ollama LLM para procesamiento local

**2. Mapa Interactivo Mejorado**
- GeneraciÃ³n automÃ¡tica de mapas con Plotly
- GeoJSON dinÃ¡mico para Colombia
- Tooltips enriquecidos con informaciÃ³n de propiedades
- EstadÃ­sticas automÃ¡ticas de segmentaciÃ³n
- VisualizaciÃ³n de distribuciÃ³n geogrÃ¡fica

**3. Contratos Inteligentes Actualizados**
- Nuevas propiedades tokenizadas en Base Sepolia
- Registros de compliance ERC-3643
- IntegraciÃ³n con Colombian COP stablecoin
- Sistema de identidad y permisos

**4. Docker Compose Local**
- Stack completo para desarrollo local
- PostgreSQL, Redis, Ollama LLM
- Servicios interconectados con networking
- ConfiguraciÃ³n simplificada con variables de entorno
- Monitoreo y logging centralizado

### Flujo de Desarrollo

1. Fork del repositorio
2. Crear rama de feature
3. Probar con colecciÃ³n Postman
4. Verificar transacciones blockchain
5. Enviar pull request

### Ãreas Clave de ContribuciÃ³n

- **OptimizaciÃ³n de Contratos**: Eficiencia de gas y mejoras de seguridad
- **Mejora UI/UX**: Desarrollo de dashboard e interfaz
- **Propiedades Adicionales**: IntegraciÃ³n de nuevas propiedades tokenizadas
- **Soporte Multi-idioma**: Interfaces en idiomas adicionales
- **Modelos ML**: Mejora de algoritmos predictivos

---

## ğŸ“ CONTACTO & SOPORTE

**ğŸ“ UbicaciÃ³n:** BogotÃ¡, Colombia  
**ğŸ“§ Email:** contacto@miia.co  
**ğŸ¯ Propuesta:** Especialmente diseÃ±ada para HABI Colombia

**ğŸ”— GitHub Repository:** https://github.com/tu-usuario/miia  
**ğŸ“§ Contacto TÃ©cnico:** desarrollo@miia.co  
**ğŸ› Reportar Issues:** https://github.com/tu-usuario/miia/issues

---

## ğŸ“„ LICENCIA & USO

Este proyecto es para fines educativos, de anÃ¡lisis y demostraciÃ³n. Los datos deben ser utilizados respetando polÃ­ticas de privacidad y regulaciones locales.

**âš ï¸ Disclaimer**: Esta es una versiÃ³n de hackathon para demostraciÃ³n. Las reglas de compliance simplificadas son solo para demo y no estÃ¡n destinadas para uso en producciÃ³n sin auditorÃ­a y aprobaciÃ³n regulatoria apropiadas.

---

**Â© 2025 MIIA** - Todos los derechos reservados.  
**Propuesta innovadora para HABI Colombia.**

*Ãšltima actualizaciÃ³n: Enero 2025 - VersiÃ³n 2.0 Unificada con DocumentaciÃ³n Completa*

**Construido con â¤ï¸ para el ecosistema de tokenizaciÃ³n inmobiliaria colombiana**

Powered by [AgentKit](https://github.com/coinbase/agentkit) â€¢ [Coinbase Developer Platform](https://docs.cdp.coinbase.com/) â€¢ [Base](https://base.org/)