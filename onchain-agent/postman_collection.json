{
  "info": {
    "name": "Colombian Real Estate Tokenization API",
    "description": "Collection for testing the tokenized real estate investment platform with enhanced COP token operations, blockchain confirmation waiting, and WhatsApp integration. Features 4-minute transaction confirmation timeout with early exit when confirmed.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:3000",
      "type": "string"
    },
    {
      "key": "colombian_user1",
      "value": "+573001234567",
      "type": "string"
    },
    {
      "key": "colombian_user2",
      "value": "+573129876543",
      "type": "string"
    },
    {
      "key": "colombian_user3",
      "value": "+573208765432",
      "type": "string"
    },
    {
      "key": "property_id",
      "value": "16418-M4614094",
      "type": "string"
    },
    {
      "key": "tokenized_property_1",
      "value": "MIIA001",
      "type": "string"
    },
    {
      "key": "tokenized_property_2",
      "value": "MIIA002",
      "type": "string"
    },
    {
      "key": "tokenized_property_3",
      "value": "MIIA003",
      "type": "string"
    },
    {
      "key": "cop_small_amount",
      "value": "50000",
      "type": "string"
    },
    {
      "key": "cop_medium_amount",
      "value": "100000",
      "type": "string"
    },
    {
      "key": "cop_large_amount",
      "value": "500000",
      "type": "string"
    },
    {
      "key": "cop_contract_address",
      "value": "0xD1E0A2c64e7a1Db0b7455587c2b382C756c38f6E",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "LLM Full Purchase Flow",
      "item": [
        {
          "name": "Step 1: Check Initial Balance",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userMessage\": \"¿Cuál es mi saldo de COP?\",\n  \"phoneNumber\": \"{{colombian_user1}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/agent",
              "host": ["{{base_url}}"],
              "path": ["api", "agent"]
            }
          }
        },
        {
          "name": "Step 2: Attempt to Purchase (Insufficient Funds)",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userMessage\": \"Quiero comprar 500 tokens de MIIA001.\",\n  \"phoneNumber\": \"{{colombian_user1}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/agent",
              "host": ["{{base_url}}"],
              "path": ["api", "agent"]
            }
          }
        },
        {
          "name": "Step 3: Purchase COP Tokens",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userMessage\": \"Sí, por favor, compra 500000 COP.\",\n  \"phoneNumber\": \"{{colombian_user1}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/agent",
              "host": ["{{base_url}}"],
              "path": ["api", "agent"]
            }
          }
        },
        {
          "name": "Step 4: Confirm New Balance",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userMessage\": \"Ok, confirma mi saldo ahora.\",\n  \"phoneNumber\": \"{{colombian_user1}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/agent",
              "host": ["{{base_url}}"],
              "path": ["api", "agent"]
            }
          }
        },
        {
          "name": "Step 5: Execute Property Purchase",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userMessage\": \"Excelente. Ahora quiero proceder con la compra de los 500 tokens de MIIA001.\",\n  \"phoneNumber\": \"{{colombian_user1}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/agent",
              "host": ["{{base_url}}"],
              "path": ["api", "agent"]
            }
          }
        }
      ]
    },
    {
      "name": "Property API Tests",
      "item": [
        {
          "name": "Get All Properties",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/properties?limit=5",
              "host": ["{{base_url}} চুক্তি"],
              "path": ["api", "properties"],
              "query": [
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            }
          }
        },
        {
          "name": "Search Properties by Neighborhood",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/properties?neighborhood=Centro&limit=3",
              "host": ["{{base_url}}"],
              "path": ["api", "properties"],
              "query": [
                {
                  "key": "neighborhood",
                  "value": "Centro"
                },
                {
                  "key": "limit",
                  "value": "3"
                }
              ]
            }
          }
        },
        {
          "name": "Search Properties by Price Range",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/properties?minPrice=200000000&maxPrice=400000000&limit=5",
              "host": ["{{base_url}}"],
              "path": ["api", "properties"],
              "query": [
                {
                  "key": "minPrice",
                  "value": "200000000"
                },
                {
                  "key": "maxPrice", 
                  "value": "400000000"
                },
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            }
          }
        },
        {
          "name": "Get Property Details",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"propertyId\": \"{{property_id}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/properties",
              "host": ["{{base_url}}"],
              "path": ["api", "properties"]
            }
          }
        }
      ]
    },
    {
      "name": "Tokenization Platform Tests",
      "item": [
        {
          "name": "List Tokenized Properties",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userMessage\": \"Muéstrame las propiedades tokenizadas disponibles\",\n  \"phoneNumber\": \"{{colombian_user1}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/agent",
              "host": ["{{base_url}}"],
              "path": ["api", "agent"]
            }
          }
        },
        {
          "name": "Get Property Token Info - MIIA001",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userMessage\": \"Dame información detallada de la propiedad {{tokenized_property_1}}\",\n  \"phoneNumber\": \"{{colombian_user1}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/agent",
              "host": ["{{base_url}}"],
              "path": ["api", "agent"]
            }
          }
        },
        {
          "name": "Get Property Token Info - MIIA002",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userMessage\": \"Dame información detallada de la propiedad {{tokenized_property_2}}\",\n  \"phoneNumber\": \"{{colombian_user1}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/agent",
              "host": ["{{base_url}}"],
              "path": ["api", "agent"]
            }
          }
        },
        {
          "name": "Get Property Token Info - MIIA003",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userMessage\": \"Dame información detallada de la propiedad {{tokenized_property_3}}\",\n  \"phoneNumber\": \"{{colombian_user1}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/agent",
              "host": ["{{base_url}}"],
              "path": ["api", "agent"]
            }
          }
        },
        {
          "name": "Purchase Property Tokens - Valid Amount",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userMessage\": \"Quiero comprar 1000 tokens de la propiedad {{tokenized_property_1}}\",\n  \"phoneNumber\": \"{{colombian_user1}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/agent",
              "host": ["{{base_url}}"],
              "path": ["api", "agent"]
            }
          }
        },
        {
          "name": "Purchase Property Tokens - Below Minimum",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userMessage\": \"Quiero comprar 10 tokens de la propiedad {{tokenized_property_1}}\",\n  \"phoneNumber\": \"{{colombian_user1}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/agent",
              "host": ["{{base_url}}"],
              "path": ["api", "agent"]
            }
          }
        },
        {
          "name": "Purchase Property Tokens - Large Investment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userMessage\": \"Quiero comprar 50000 tokens de la propiedad {{tokenized_property_2}}\",\n  \"phoneNumber\": \"{{colombian_user2}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/agent",
              "host": ["{{base_url}}"],
              "path": ["api", "agent"]
            }
          }
        },
        {
          "name": "Get User Token Holdings - Empty Portfolio",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userMessage\": \"Muéstrame mi portafolio de tokens de propiedades\",\n  \"phoneNumber\": \"{{colombian_user3}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/agent",
              "host": ["{{base_url}}"],
              "path": ["api", "agent"]
            }
          }
        },
        {
          "name": "Get User Token Holdings - After Purchase",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userMessage\": \"Muéstrame mi portafolio de tokens de propiedades\",\n  \"phoneNumber\": \"{{colombian_user1}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/agent",
              "host": ["{{base_url}}"],
              "path": ["api", "agent"]
            }
          }
        }
      ]
    },
    {
      "name": "WhatsApp Real Estate Agent",
      "item": [
        {
          "name": "Initial Investment Interest - User 1",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userMessage\": \"Quiero ver oportunidades de inversión\",\n  \"phoneNumber\": \"{{colombian_user1}}\",\n  \"createNewWallet\": true\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/agent",
              "host": ["{{base_url}}"],
              "path": ["api", "agent"]
            }
          }
        },
        {
          "name": "Ask for Properties in Centro",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userMessage\": \"Muéstrame propiedades en el barrio Centro\",\n  \"phoneNumber\": \"{{colombian_user1}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/agent",
              "host": ["{{base_url}}"],
              "path": ["api", "agent"]
            }
          }
        },
        {
          "name": "Ask About Property Investment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userMessage\": \"¿Cuánto necesito para invertir en la propiedad {{property_id}}?\",\n  \"phoneNumber\": \"{{colombian_user1}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/agent",
              "host": ["{{base_url}}"],
              "path": ["api", "agent"]
            }
          }
        },
        {
          "name": "Investment Calculation",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userMessage\": \"Quiero invertir 2 millones de pesos en esa propiedad\",\n  \"phoneNumber\": \"{{colombian_user1}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/agent",
              "host": ["{{base_url}}"],
              "path": ["api", "agent"]
            }
          }
        },
        {
          "name": "Check Wallet Balance",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userMessage\": \"¿Cuál es el saldo de mi billetera?\",\n  \"phoneNumber\": \"{{colombian_user1}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/agent",
              "host": ["{{base_url}}"],
              "path": ["api", "agent"]
            }
          }
        },
        {
          "name": "New User Onboarding - User 2",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userMessage\": \"Hola, soy nuevo y quiero invertir en bienes raíces\",\n  \"phoneNumber\": \"{{colombian_user2}}\",\n  \"createNewWallet\": true\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/agent",
              "host": ["{{base_url}}"],
              "path": ["api", "agent"]
            }
          }
        },
        {
          "name": "Tokenized Property Investment Interest",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userMessage\": \"Quiero invertir en propiedades tokenizadas\",\n  \"phoneNumber\": \"{{colombian_user1}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/agent",
              "host": ["{{base_url}}"],
              "path": ["api", "agent"]
            }
          }
        },
        {
          "name": "Ask About Token Investment Minimum",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userMessage\": \"¿Cuál es la inversión mínima para comprar tokens de propiedades?\",\n  \"phoneNumber\": \"{{colombian_user1}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/agent",
              "host": ["{{base_url}}"],
              "path": ["api", "agent"]
            }
          }
        }
      ]
    },
    {
      "name": "WhatsApp Webhook Tests",
      "item": [
        {
          "name": "Webhook Verification",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/whatsapp?hub.mode=subscribe&hub.verify_token=tu_token_de_verificacion&hub.challenge=test_challenge",
              "host": ["{{base_url}}"],
              "path": ["api", "whatsapp"],
              "query": [
                {
                  "key": "hub.mode",
                  "value": "subscribe"
                },
                {
                  "key": "hub.verify_token",
                  "value": "tu_token_de_verificacion"
                },
                {
                  "key": "hub.challenge",
                  "value": "test_challenge"
                }
              ]
            }
          }
        },
        {
          "name": "WhatsApp Message - Investment Interest",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"entry\": [{\n    \"changes\": [{\n      \"value\": {\n        \"messages\": [{\n          \"from\": \"{{colombian_user1}}\",\n          \"text\": {\"body\": \"Quiero ver oportunidades de inversión\"},\n          \"type\": \"text\"\n        }]\n      }\n    }]\n  }]\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/whatsapp",
              "host": ["{{base_url}}"],
              "path": ["api", "whatsapp"]
            }
          }
        },
        {
          "name": "WhatsApp Message - Property Inquiry",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"entry\": [{\n    \"changes\": [{\n      \"value\": {\n        \"messages\": [{\n          \"from\": \"{{colombian_user1}}\",\n          \"text\": {\"body\": \"Muéstrame propiedades en Centro con menos de 250 millones\"},\n          \"type\": \"text\"\n        }]\n      }\n    }]\n  }]\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/whatsapp",
              "host": ["{{base_url}}"],
              "path": ["api", "whatsapp"]
            }
          }
        },
        {
          "name": "WhatsApp Message - Token Investment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"entry\": [{\n    \"changes\": [{\n      \"value\": {\n        \"messages\": [{\n          \"from\": \"{{colombian_user1}}\",\n          \"text\": {\"body\": \"Quiero comprar tokens de la propiedad MIIA001\"},\n          \"type\": \"text\"\n        }]\n      }\n    }]\n  }]\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/whatsapp",
              "host": ["{{base_url}}"],
              "path": ["api", "whatsapp"]
            }
          }
        }
      ]
    },
    {
      "name": "Enhanced COP Token Operations",
      "item": [
        {
          "name": "Test COP Purchase with Confirmation Wait",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/test-cop-purchase",
              "host": ["{{base_url}}"],
              "path": ["api", "test-cop-purchase"]
            },
            "description": "Direct test of COP token purchase with 4-minute confirmation timeout. Returns immediately when confirmed or after timeout. Recent successful transactions: 0xb40a44cdf6351fba1eb0f7cacb7cfa6055b753d9596fea7422561f8fc75972c9 (confirmed in ~4 seconds), 0xf7da705be495f5fbb6842e86a5b64bc6950978e86a95a582db86a15cd81328da (timeout but successful)."
          }
        },
        {
          "name": "Debug Blockchain Interactions",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/debug-blockchain",
              "host": ["{{base_url}}"],
              "path": ["api", "debug-blockchain"]
            },
            "description": "Debug blockchain connectivity, reads, and transaction preparation without LLM prompts."
          }
        },
        {
          "name": "Purchase COP with Confirmation Request",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userMessage\": \"Quiero comprar {{cop_medium_amount}} tokens COP y esperar hasta que la transacción se confirme completamente en blockchain\",\n  \"phoneNumber\": \"{{colombian_user1}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/agent",
              "host": ["{{base_url}}"],
              "path": ["api", "agent"]
            },
            "description": "Test COP purchase through LLM with explicit confirmation request. May take up to 4 minutes for full confirmation."
          }
        },
        {
          "name": "Purchase COP - Small Amount",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userMessage\": \"Necesito comprar {{cop_small_amount}} tokens COP para empezar a invertir\",\n  \"phoneNumber\": \"{{colombian_user1}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/agent",
              "host": ["{{base_url}}"],
              "path": ["api", "agent"]
            },
            "description": "Purchase smaller amount of COP tokens with educational guidance about minimum investment requirements."
          }
        },
        {
          "name": "Check COP Balance",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userMessage\": \"¿Cuál es mi saldo actual de tokens COP?\",\n  \"phoneNumber\": \"{{colombian_user1}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/agent",
              "host": ["{{base_url}}"],
              "path": ["api", "agent"]
            },
            "description": "Check current COP token balance through LLM interface."
          }
        },
        {
          "name": "Purchase COP - Large Investment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userMessage\": \"Quiero comprar {{cop_large_amount}} tokens COP para invertir en propiedades tokenizadas. Espera la confirmación completa por favor.\",\n  \"phoneNumber\": \"{{colombian_user2}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/agent",
              "host": ["{{base_url}}"],
              "path": ["api", "agent"]
            },
            "description": "Purchase large amount of COP tokens (above minimum investment threshold) with confirmation waiting."
          }
        }
      ]
    },
    {
      "name": "Wallet Management",
      "item": [
        {
          "name": "List All Wallets",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/wallets",
              "host": ["{{base_url}}"],
              "path": ["api", "wallets"]
            }
          }
        },
        {
          "name": "Get User 1 Wallet",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/wallets?phoneNumber={{colombian_user1}}",
              "host": ["{{base_url}}"],
              "path": ["api", "wallets"],
              "query": [
                {
                  "key": "phoneNumber",
                  "value": "{{colombian_user1}}"
                }
              ]
            }
          }
        },
        {
          "name": "Get User 2 Wallet",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/wallets?phoneNumber={{colombian_user2}}",
              "host": ["{{base_url}}"],
              "path": ["api", "wallets"],
              "query": [
                {
                  "key": "phoneNumber",
                  "value": "{{colombian_user2}}"
                }
              ]
            }
          }
        },
        {
          "name": "Delete User 3 Wallet",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/wallets?phoneNumber={{colombian_user3}}",
              "host": ["{{base_url}}"],
              "path": ["api", "wallets"],
              "query": [
                {
                  "key": "phoneNumber",
                  "value": "{{colombian_user3}}"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Tokenization Error Testing",
      "item": [
        {
          "name": "Invalid Property ID",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userMessage\": \"Dame información de la propiedad INVALID123\",\n  \"phoneNumber\": \"{{colombian_user1}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/agent",
              "host": ["{{base_url}}"],
              "path": ["api", "agent"]
            }
          }
        },
        {
          "name": "Purchase Tokens Invalid Property",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userMessage\": \"Quiero comprar 1000 tokens de la propiedad INVALID123\",\n  \"phoneNumber\": \"{{colombian_user1}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/agent",
              "host": ["{{base_url}}"],
              "path": ["api", "agent"]
            }
          }
        },
        {
          "name": "Purchase Tokens Negative Amount",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userMessage\": \"Quiero comprar -100 tokens de la propiedad {{tokenized_property_1}}\",\n  \"phoneNumber\": \"{{colombian_user1}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/agent",
              "host": ["{{base_url}}"],
              "path": ["api", "agent"]
            }
          }
        },
        {
          "name": "Get Holdings Invalid Phone",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userMessage\": \"Muéstrame mi portafolio de tokens\",\n  \"phoneNumber\": \"invalid-phone\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/agent",
              "host": ["{{base_url}}"],
              "path": ["api", "agent"]
            }
          }
        }
      ]
    },
    {
      "name": "Error Testing",
      "item": [
        {
          "name": "Invalid Phone Number",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userMessage\": \"Hello\",\n  \"phoneNumber\": \"invalid-phone\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/agent",
              "host": ["{{base_url}}"],
              "path": ["api", "agent"]
            }
          }
        },
        {
          "name": "Get Non-existent Wallet",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/wallets?phoneNumber=+9999999999",
              "host": ["{{base_url}}"],
              "path": ["api", "wallets"],
              "query": [
                {
                  "key": "phoneNumber",
                  "value": "+9999999999"
                }
              ]
            }
          }
        }
      ]
    }
  ]
}
